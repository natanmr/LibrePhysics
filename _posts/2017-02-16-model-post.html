---
layout: default <!-- Sempre esse padrão -->
title:  "pagina de modelo" <!-- Título da página -->
date:   2017-02-22 01:00:00 +0200 <!-- Tada de atualização -->
published: 2017-02-16 01:00:00 +0200 <!-- Data de publicação -->
comments: true <!-- Ativar comentarios do DISQUS -->
categories: development <!-- Descobrir esse mecanimo. colocar me-->
tags: [tag1, tag2...] <!-- Tags de conteúdo -->
github: "https://github.com/alainpham/fis20-simple-svc" <!-- Link git hub com os códigos -->
---

<p> <!-- Primeiro paragrafo é o abstract -->
Openshift offers a whole pipeline to create container images directly from source code.
It is usable for general purpose Java applications as well as for Fuse Integration Service projects.
This post will present how to accelerate the build time of those images by setting up a local Nexus Repository and configuring application templates
to use this repository for the build process. The idea is not having to download from the Internet all the FIS maven dependencies when building a new project.
At the time of writing FIS 2.0 is available as tech preview.
</p>
<!--more-->

<!-- Informações adicionais -->
<p>(update 22/02/2017) February 21, 2017 : FIS 2.0 GA has been released.</p>
<p>The method shown here doesn't use the MVN_MIRROR_URL parameter which was enabled in FIS 2.0.
This will work on FIS 2.0 and also FIS 1.0.
</p>


<h2>
Setting up a Nexus repository <!-- Título de secção -->
</h2>
<p>
	Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. Vivamus elementum semper nisi. Aenean vulputate eleifend tellus. Aenean leo ligula, porttitor eu, consequat vitae, eleifend ac, enim. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt. Duis leo. Sed fringilla mauris sit amet nibh. Donec sodales sagittis magna. Sed consequat, leo eget bibendum sodales, augue velit cursus nunc,
</p>


<!-- Inserção de imagens -->
<a href="/assets/images/{{page.id}}/nexus_s2i.png"> <img
	class="center-block img-responsive"
	src="/assets/images/{{page.id}}/nexus_s2i.png" alt="nexus s2i architecture"/></a>


<h3>Download Nexus 2 OSS and run it</h3> <!-- Título de subsecção -->
<p>
Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam
</p>
<p>
Unzip it and run it :
</p>

<pre> <!--Inserção de comandos -->
./nexus console
</pre>

{% highlight xml %} <!-- layout de uma linguagem especifica -->
<profile>
  <id>rh-repos</id>
<repositories>
	<!-- EARLY ACCESS RH-->
	<repository>
      <id>jboss-ea-repository</id>
      <url>https://maven.repository.redhat.com/earlyaccess/all</url>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>

	<!-- Global Availability RH-->
      <repository>
      <id>jboss-ga-repository</id>
      <url>https://maven.repository.redhat.com/ga/</url>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>

    <!-- Fuse Source GA-->
    <repository>
      <id>fuse-source</id>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <name>FuseSource Release Repository</name>
      <url>http://repo.fusesource.com/nexus/content/repositories/releases</url>
    </repository>
  </repositories>


  <pluginRepositories>
	<!-- EARLY ACCESS RH-->
	<pluginRepository>
      <id>jboss-ea-plugin-repository</id>
      <url>https://maven.repository.redhat.com/earlyaccess/all</url>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </pluginRepository>

	<!-- Global Availability RH-->
    <pluginRepository>
       <id>jboss-ga-plugin-repository</id>
      <url>https://maven.repository.redhat.com/ga/</url>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </pluginRepository>

    <!-- Fuse Source GA-->
    <pluginRepository>
      <id>fusesource-plugin</id>
      <releases>
        <enabled>true</enabled>
        <updatePolicy>never</updatePolicy>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <name>FuseSource Release Repository</name>
      <url>http://repo.fusesource.com/nexus/content/repositories/releases</url>
    </pluginRepository>
  </pluginRepositories>

</profile>
</profiles>


<activeProfiles>
 <activeProfile>rh-repos</activeProfile>
</activeProfiles>
{% endhighlight %}


<p>The working project with all the resources can be found here : </p>
<a href="{{page.github }}">{{page.github }}</a>

<p>Test your service at the following url</p>
<pre>
http://springboot-rest-myproject.[yourIP].xip.io/test
</pre>

<p>Note that the build takes only about 2 minute the second time you run it instead of 20 minutes (in my case with a not so fast internet connection). This is thanks to the fact that the maven dependencies are
taken from the local Nexus instead of being downloaded from the Internet.</p>


<!-- Links adicionais -->
<strong>
links adicionais :
</strong>
<ul>
<li>Video tutorial showing the source S2I method for FIS 2.0 : <a href="https://vimeo.com/194416659">https://vimeo.com/194416659</a></li>

</ul>
